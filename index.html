<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å - Cafe Phichit</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500&display=swap" rel="stylesheet">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
</head>
<body>

    <nav>
        <div class="logo">Cafe Phichit</div>
        <ul class="nav-links">
            <li><a href="https://jnm296.github.io/Website-Recommending-Cafes-In-Phichit-Province" target="_blank" rel="noopener noreferrer">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a></li>
            <li><a href="#">‡∏£‡∏ß‡∏°‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà</a></li>
            <li><a href="#">‡∏à‡∏±‡∏î‡∏ó‡∏£‡∏¥‡∏õ</a></li>
            <li><a href="#">‡∏£‡∏µ‡∏ß‡∏¥‡∏ß</a></li>
            <li><a href="#">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</a></li>
        </ul>
    </nav>

    <header class="hero">
        <div class="hero-text">
            <h1>‡∏Ñ‡πâ‡∏ô‡∏û‡∏ö‡πÄ‡∏™‡∏ô‡πà‡∏´‡πå<br>‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà‡πÉ‡∏ô‡∏û‡∏¥‡∏à‡∏¥‡∏ï‡∏£</h1>
            <p>‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏® Minimal ‡πÅ‡∏•‡∏∞‡∏£‡∏™‡∏ä‡∏≤‡∏ï‡∏¥‡∏Å‡∏≤‡πÅ‡∏ü‡∏ó‡∏µ‡πà‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô<br>‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏° 12 ‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà‡∏¢‡∏≠‡∏î‡∏Æ‡∏¥‡∏ï‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏õ‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô</p>
            <a href="#" class="btn-main">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏≥‡∏£‡∏ß‡∏à‡πÄ‡∏•‡∏¢</a>
        </div>
        <div class="hero-image">
            <img src="https://via.placeholder.com/500x600" alt="Cafe in Phichit">
        </div>
    </header>

    <section class="features">
        <div class="feature-card">
            <i>‚òï</i>
            <h3>12 ‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</h3>
            <p>‡∏Ñ‡∏±‡∏î‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡πà‡∏≤‡∏î‡∏µ ‡∏ó‡∏±‡πâ‡∏á‡∏£‡∏™‡∏ä‡∏≤‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏°‡∏∏‡∏°‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏™‡∏ß‡∏¢‡πÜ</p>
        </div>
        <div class="feature-card">
            <i>üó∫Ô∏è</i>
            <h3>‡∏à‡∏±‡∏î‡∏ó‡∏£‡∏¥‡∏õ‡∏á‡πà‡∏≤‡∏¢‡πÜ</h3>
            <p>‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏û‡∏¥‡∏à‡∏¥‡∏ï‡∏£‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß</p>
        </div>
        <div class="feature-card">
            <i>‚≠ê</i>
            <h3>‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏à‡∏≤‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÜ</h3>
            <p>‡∏≠‡πà‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏´‡∏•‡πà‡∏≤ Cafe Hopping</p>
        </div>
    </section>
        
    <div class="container">
        <h2 class="section-title">Editor's Pick: ‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</h2>

        <div class="highlight-card">
            <div class="highlight-img">
                <img src="https://via.placeholder.com/600x800" alt="Cafe 1">
            </div>
            <div class="highlight-info">
                <span class="tag">#Minimal #Cozy</span>
                <h2>11:25 Hours Cafe</h2>
                <p>‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡πÅ‡∏ü‡πÇ‡∏ó‡∏ô‡∏Ç‡∏≤‡∏ß-‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏™‡∏∏‡∏î‡∏•‡∏∞‡∏°‡∏∏‡∏ô ‡∏°‡∏µ‡∏°‡∏∏‡∏°‡∏ã‡∏∏‡πâ‡∏°‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡πÇ‡∏Ñ‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏Ñ‡∏£‡∏°‡∏≤‡∏Å‡πá‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏Ñ‡πâ‡∏Å‡πÇ‡∏Æ‡∏°‡πÄ‡∏°‡∏î‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡∏£‡∏™‡∏ä‡∏≤‡∏ï‡∏¥‡∏Å‡∏•‡∏°‡∏Å‡∏•‡πà‡∏≠‡∏°‡∏°‡∏≤‡∏Å‡∏Ñ‡πà‡∏∞</p>
                <a href="#" class="read-more">‡πÑ‡∏õ‡∏î‡∏π‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏â‡∏ö‡∏±‡∏ö‡πÄ‡∏ï‡πá‡∏° ‚Üí</a>
            </div>
        </div>

        <div class="highlight-card">
            <div class="highlight-img">
                <img src="https://via.placeholder.com/600x800" alt="Cafe 2">
            </div>
            <div class="highlight-info">
                <span class="tag">#Vintage #RiverSide</span>
                <h2>Riverside Phichit</h2>
                <p>‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà‡∏£‡∏¥‡∏°‡∏ô‡πâ‡∏≥‡∏£‡∏±‡∏ö‡∏•‡∏°‡πÄ‡∏¢‡πá‡∏ô‡πÜ ‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏ß‡∏¥‡∏ô‡πÄ‡∏ó‡∏à ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏°‡∏≤‡∏ô‡∏±‡πà‡∏á‡∏ä‡∏¥‡∏•‡∏•‡πå‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏¥‡∏ö‡∏Å‡∏≤‡πÅ‡∏ü‡∏¢‡∏≤‡∏°‡∏ö‡πà‡∏≤‡∏¢ ‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡∏™‡∏á‡∏ö‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏¢‡πâ‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï</p>
                <a href="#" class="read-more">‡πÑ‡∏õ‡∏î‡∏π‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏â‡∏ö‡∏±‡∏ö‡πÄ‡∏ï‡πá‡∏° ‚Üí</a>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-logo">CAFE PHICHIT</div>
        <p>‡∏Ñ‡∏≠‡∏°‡∏°‡∏π‡∏ô‡∏¥‡∏ï‡∏µ‡πâ‡∏Ñ‡∏ô‡∏£‡∏±‡∏Å‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà‡πÉ‡∏ô‡∏û‡∏¥‡∏à‡∏¥‡∏ï‡∏£ ‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏£‡∏ö‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</p>
        
        <div class="social-links">
            <a href="#">Facebook</a>
            <a href="#">Instagram</a>
            <a href="#">Line</a>
        </div>

        <p style="font-size: 0.9rem; color: #888;">‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡πÑ‡∏õ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏£‡πâ‡∏≤‡∏ô‡πÑ‡∏´‡∏ô? <a href="#" style="color: var(--primary-pink);">‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏≤‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢</a></p>
        
        <div class="copyright">
            &copy; 2025 Cafe Phichit. Created with ‚ù§Ô∏è for Cafe Lovers.
        </div>
    </footer>

    <div class="floating-auth">
        <button id="mainAuthBtn" class="btn-open-login" onclick="openLogin()">
            <span>üë§</span> ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
        </button>
        
        <div id="userAvatar" class="user-profile-float" onclick="location.href='profile.html'">
            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Mimi" alt="Avatar">
        </div>
    </div>

    <div id="loginModal" class="login-overlay">
        <div class="login-box">
            <span class="close-btn" onclick="closeLogin()">&times;</span>
            <h2>Welcome Back!</h2>
            <p style="color:#888; font-size: 0.9rem; margin-top:-20px; margin-bottom: 25px;">‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà‡πÇ‡∏õ‡∏£‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
            
            <form onsubmit="handleLogin(event)">
                <input type="email" placeholder="‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì" required>
                <input type="password" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" required>
                <button type="submit" class="btn-login-submit">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
            </form>

            <div style="margin: 20px 0; color: #ddd; font-size: 0.8rem;">‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏î‡πâ‡∏ß‡∏¢</div>

            <div class="social-login-mini">
                <div id="googleBtn" style="display: flex; justify-content: center; margin-top: 10px;"></div>
            </div>
        </div>
    </div>

    <script type="module">
¬† import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
¬† import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

¬† const firebaseConfig = {
¬† apiKey: "AIzaSyDt4kR8SacD2LPwmyFpcZ4FNHJpCT-pOwc",
¬† authDomain: "phichit-cafe.firebaseapp.com",
¬† databaseURL: "https://phichit-cafe-default-rtdb.firebaseio.com",
¬† projectId: "phichit-cafe",
¬† storageBucket: "phichit-cafe.firebasestorage.app",
¬† messagingSenderId: "825175930096",
¬† appId: "1:825175930096:web:32336ea0ebc1cdf3c33e35",
¬† measurementId: "G-SNG4GZ50C0"
};

¬† const app = initializeApp(firebaseConfig);
¬† const db = getFirestore(app);

¬† // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤‡πÇ‡∏ä‡∏ß‡πå
¬† async function getCafes() {
¬† ¬† const querySnapshot = await getDocs(collection(db, "cafes"));
¬† ¬† querySnapshot.forEach((doc) => {
¬† ¬† ¬† console.log(doc.data().name); // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡πÑ‡∏õ‡πÇ‡∏ä‡∏ß‡πå‡πÉ‡∏ô Console ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡πá‡∏ö‡∏Ñ‡πà‡∏∞
¬† ¬† ¬† alert("‡πÄ‡∏à‡∏≠‡∏£‡πâ‡∏≤‡∏ô: " + doc.data().name); // ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏î‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏î‡∏π‡∏ß‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡∏¥‡∏î‡πÑ‡∏´‡∏°
¬† ¬† });
¬† }
¬† getCafes();
</script>
    
    <script>
        function openLogin() {
            document.getElementById('loginModal').style.display = 'flex';
        }

        function closeLogin() {
            document.getElementById('loginModal').style.display = 'none';
        }

        function handleLogin(e) {
            e.preventDefault();
            // ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
            closeLogin();
            document.getElementById('mainAuthBtn').style.display = 'none';
            document.getElementById('userAvatar').style.display = 'block';
            alert('‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö! ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏∞');
        }

        // ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≤‡∏á‡∏ô‡∏≠‡∏Å Pop-up ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î
        window.onclick = function(event) {
            if (event.target == document.getElementById('loginModal')) {
                closeLogin();
            }
        }

        window.onload = function () {
    google.accounts.id.initialize({
        // ‡πÉ‡∏™‡πà Client ID ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å Google Cloud
        client_id: "33280567312-hrdbjnk3g9guqsfe21coqn0mfpv3n6np.apps.googleusercontent.com",
        callback: handleGoogleResponse
    });
    
    // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡πÉ‡∏ô div ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ß‡πâ
    google.accounts.id.renderButton(
        document.getElementById("googleBtn"),
        { theme: "outline", size: "large", width: "240" }
    );
}

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô Google ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
function handleGoogleResponse(response) {
    // ‡∏ñ‡∏≠‡∏î‡∏£‡∏´‡∏±‡∏™‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏à‡∏≤‡∏Å Google (JWT Token)
    const responsePayload = decodeJwtResponse(response.credential);

    database.ref('users/' + responsePayload.sub).set({
        name: responsePayload.name,
        email: responsePayload.email,
        picture: responsePayload.picture,
        last_login: new Date().toLocaleString()
    });

    console.log("ID: " + responsePayload.sub);
    console.log('Full Name: ' + responsePayload.name);
    console.log('Email: ' + responsePayload.email);

    // ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô
    closeLogin();

    // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏õ‡∏∏‡πà‡∏° "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö" ‡πÄ‡∏õ‡πá‡∏ô "‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏£‡∏¥‡∏á"
    document.getElementById('mainAuthBtn').style.display = 'none';
    const userAvatar = document.getElementById('userAvatar');
    userAvatar.style.display = 'block';
    userAvatar.querySelector('img').src = responsePayload.picture; // ‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡∏à‡∏≤‡∏Å Google

    alert('‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì ' + responsePayload.name + ' ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà Phichit Cafe ‡∏Ñ‡πà‡∏∞!');
}

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Token (‡πÉ‡∏ä‡πâ‡πÅ‡∏ö‡∏ö‡∏á‡πà‡∏≤‡∏¢‡πÜ)
function decodeJwtResponse(token) {
    let base64Url = token.split('.')[1];
    let base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
    let jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
    }).join(''));
    return JSON.parse(jsonPayload);
}
    </script>

</body>
</html>

    



